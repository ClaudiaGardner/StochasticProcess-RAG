# 例题0.44

## 题目

箱子里最初有1 个白球，1 个黑球。每次取出一个，然后放回，同时添1 个同色球。n 次试验 后，猜测箱内白球数目的分布并证明。

## 解答

**Reviewing Induction Logic**

I'm now revisiting the induction step, carefully examining the boundary conditions. It's crucial to ensure the formula holds for $k=1$ and $k=n+1$, which I believe it does. However, I want to double-check these edge cases to eliminate any potential errors before moving forward with the final LaTeX rendering.


### 题目分析

本题描述的是著名的 **波利亚罐子模型（Polya's Urn Scheme）** 的一个特例。
题目中初始状态为 1 白 1 黑，总数为 2。每次试验后总球数增加 1。
本题考查的核心概念包括：
1.  **离散型随机变量的概率分布**：需要确定 $n$ 次试验后白球数量的所有可能取值及其对应的概率。
2.  **条件概率与全概率公式**：用于推导状态转移。
3.  **数学归纳法**：用于严格证明猜测的分布规律。

我们需要求解的目标是 $n$ 次试验后箱内白球数目 $X_n$ 的概率分布律 $P(X_n=k)$。

### 解题过程

**1. 符号定义与初步分析**

设 $X_n$ 表示 $n$ 次试验后箱子中白球的个数。
初始状态：$n=0$ 时，白球数 $X_0=1$，黑球数 $1$，总球数 $2$。
每次试验取出一球放回并添加一只同色球，因此每次试验后箱子中的总球数增加 1。
经过 $n$ 次试验后，箱子中的总球数为 $2+n$。
因为初始有 1 个白球，且每次最多增加 1 个白球，所以 $X_n$ 的可能取值为 $\{1, 2, \dots, n+1\}$。

**2. 寻找规律（归纳猜想）**

我们先计算 $n=1$ 和 $n=2$ 的情况。

*   **当 $n=1$ 时**：
    箱中有 2 个球（1白1黑）。
    *   若取出白球（概率 $1/2$），放回并加 1 白，则白球数变为 2。
    *   若取出黑球（概率 $1/2$），放回并加 1 黑，则白球数仍为 1。
    分布为：
    $$P(X_1=1) = \frac{1}{2}, \quad P(X_1=2) = \frac{1}{2}$$

*   **当 $n=2$ 时**：
    *   若 $X_1=1$（概率 $1/2$，此时总球数 3，1白2黑）：
        *   取黑（概率 $2/3$）$\to X_2=1$。
        *   取白（概率 $1/3$）$\to X_2=2$。
    *   若 $X_1=2$（概率 $1/2$，此时总球数 3，2白1黑）：
        *   取黑（概率 $1/3$）$\to X_2=2$。
        *   取白（概率 $2/3$）$\to X_2=3$。
    
    综合计算 $X_2$ 的分布：
    $$P(X_2=1) = P(X_2=1|X_1=1)P(X_1=1) = \frac{2}{3} \times \frac{1}{2} = \frac{1}{3}$$
    $$P(X_2=2) = P(X_2=2|X_1=1)P(X_1=1) + P(X_2=2|X_1=2)P(X_1=2) = \frac{1}{3} \times \frac{1}{2} + \frac{1}{3} \times \frac{1}{2} = \frac{1}{3}$$
    $$P(X_2=3) = P(X_2=3|X_1=2)P(X_1=2) = \frac{2}{3} \times \frac{1}{2} = \frac{1}{3}$$

**猜想**：$X_n$ 服从离散均匀分布，即对于 $k \in \{1, 2, \dots, n+1\}$，有：
$$P(X_n = k) = \frac{1}{n+1}$$

**3. 数学归纳法证明**

**第一步：奠基**
当 $n=1$ 时，由上述计算知 $P(X_1=1)=P(X_1=2)=\frac{1}{2}$，猜想成立。

**第二步：归纳假设**
假设当 $n=m$ 时，猜想成立，即箱内白球数 $X_m$ 服从 $\{1, 2, \dots, m+1\}$ 上的均匀分布：
$$P(X_m = k) = \frac{1}{m+1}, \quad k=1, 2, \dots, m+1$$

**第三步：归纳递推**
考虑 $n=m+1$ 的情况。
在第 $m+1$ 次试验前（即 $m$ 次试验后），箱内总球数为 $m+2$。
设 $m$ 次试验后白球数为 $X_m$。进行第 $m+1$ 次试验时：
*   若取出白球（概率为 $\frac{X_m}{m+2}$），则 $X_{m+1} = X_m + 1$。
*   若取出黑球（概率为 $\frac{(m+2)-X_m}{m+2}$），则 $X_{m+1} = X_m$。

我们要计算 $P(X_{m+1} = k)$，其中 $k \in \{1, 2, \dots, m+2\}$。
根据全概率公式：
$$P(X_{m+1} = k) = P(X_{m+1}=k | X_m=k)P(X_m=k) + P(X_{m+1}=k | X_m=k-1)P(X_m=k-1)$$

分析两项条件概率：
1.  **从 $X_m=k$ 转移到 $X_{m+1}=k$**：
    这意味着第 $m+1$ 次取出了黑球。此时箱内有 $k$ 个白球，总球数 $m+2$。
    $$P(X_{m+1}=k | X_m=k) = \frac{(m+2)-k}{m+2}$$
    
2.  **从 $X_m=k-1$ 转移到 $X_{m+1}=k$**：
    这意味着第 $m+1$ 次取出了白球。此时箱内有 $k-1$ 个白球，总球数 $m+2$。
    $$P(X_{m+1}=k | X_m=k-1) = \frac{k-1}{m+2}$$

代入归纳假设 $P(X_m=j) = \frac{1}{m+1}$：
$$P(X_{m+1} = k) = \frac{m+2-k}{m+2} \cdot \frac{1}{m+1} + \frac{k-1}{m+2} \cdot \frac{1}{m+1}$$

提取公因式 $\frac{1}{(m+1)(m+2)}$：
$$P(X_{m+1} = k) = \frac{1}{(m+1)(m+2)} \left[ (m+2-k) + (k-1) \right]$$
$$P(X_{m+1} = k) = \frac{1}{(m+1)(m+2)} \cdot (m+1)$$
$$P(X_{m+1} = k) = \frac{1}{m+2}$$

*注：对于边界情况 $k=1$（只能由 $X_m=1$ 取黑球得到）和 $k=m+2$（只能由 $X_m=m+1$ 取白球得到），上述公式中 $P(X_m=0)$ 和 $P(X_m=m+2)$ 均为 0，公式依然成立。*

由此可知，当 $n=m+1$ 时，白球数 $X_{m+1}$ 在 $\{1, 2, \dots, m+2\}$ 上服从均匀分布。

**结论**
由数学归纳法原理，对于任意 $n \ge 1$，箱内白球数目 $X_n$ 服从离散均匀分布。

### 答案

$n$ 次试验后，箱内白球数目的分布为 **离散均匀分布**。
设 $X_n$ 为 $n$ 次试验后的白球数，其概率分布律为：
$$P(X_n = k) = \frac{1}{n+1}, \quad k = 1, 2, \dots, n+1$$

### 知识延伸

1.  **波利亚罐子模型 (Polya's Urn Model)**：
    本题是波利亚罐子模型的一个特例（初始参数 $c=1$）。该模型具有**可交换性 (Exchangeability)**，即只要抽出的白球和黑球总数固定，无论抽取的顺序如何，其概率都是相同的。

2.  **贝塔-二项分布 (Beta-Binomial Distribution)**：
    一般情况下，若初始有 $a$ 个白球，$b$ 个黑球，每次添加 $c$ 个同色球，则 $n$ 次试验后白球数量服从贝塔-二项分布。本题中 $a=1, b=1, c=1$，该分布退化为离散均匀分布。

3.  **极限分布与鞅 (Martingale)**：
    设 $M_n = \frac{X_n}{n+2}$ 为 $n$ 次试验后白球的比例。序列 $\{M_n\}$ 构成一个**鞅**。
    根据鞅收敛定理，当 $n \to \infty$ 时，白球的比例 $M_n$ 依概率收敛于一个随机变量 $Z$。在本题（初始1白1黑）的情况下，极限分布 $Z$ 服从标准均匀分布 $U(0,1)$（即 Beta(1,1) 分布）。

4.  **解题技巧**：
    处理此类“状态依赖路径”的概率问题时，先计算前几步（$n=1, 2, 3$）寻找规律，然后使用**数学归纳法**配合**全概率公式**进行证明是标准且严谨的方法。

---
