# 例题1.10

## 题目

设 X 是指数分布，P{X > x } = exp(−x)。取一样本 x，放入信封 A；再以 1/2 的概率计算 y = 2 x 或 y = x/2，把 y 放入信封B。请问，选 A 还是选 B 能得到更大的数。 A 与B 信封若混淆了。请问，选定一个之后，要不要换？ 在客观实际中，一些现象受到许多相互独立的随机因素的综合影响，如果每个因素所产生的作用都很微小 时，总的影响可以看作是服从正态分布的。这时，我们可以应用中心极限定理。 【定理1.11】 设X1，X2，...，Xn 是独立同分布的随机变量，具有数学期望E(X) 和方差σ2，则序列Sn = nP k=1 Xk 满足： lim n→∞ P Sn − nE(X)√nσ ⩽ y  = Z y −∞ 1√ 2π e−x2 2 dx。 用语言描述即，Sn−nE(X)√nσ 的分布函数趋于正态分布函数（注意，前者可能没有密度函数） 。 18 1.4. 课后作业

## 解答

**Evaluating Problem Parameters**

I've finalized the structure and have moved onto precise calculations. Specifically, I'm working to confirm the correct derivation of $E[V_B]$ and am double-checking the reasoning behind the indifference conclusion in the mixed-up envelope scenario, ensuring the mathematical rigor aligns with the problem's setup and constraints, particularly the lack of value observation before switching.


### 题目分析

本题考查**随机变量的函数变换**、**条件期望**以及**全概率公式**的应用。题目包含两个部分：
1.  **比较期望值**：在已知信封 A 和 B 的构造规则下，计算并比较两个信封内数值的数学期望，以确定哪个信封更有利。
2.  **决策分析**：在信封混淆（无法区分 A 和 B）且未查看数值的情况下，分析“交换信封”这一策略是否改变期望收益。

**注意**：题目文本后半部分关于“中心极限定理（Theorem 1.11）”的内容属于教材的后续章节介绍，与本例题（Example 1.10）的解答无关，解题时将忽略该部分。

### 解题过程

#### 1. 设定随机变量与分布

已知随机变量 $X$ 服从参数为 $\lambda=1$ 的指数分布。
其概率密度函数（PDF）为：
$$
f_X(x) = \begin{cases} e^{-x}, & x > 0 \\ 0, & x \le 0 \end{cases}
$$
其数学期望为：
$$
E[X] = \int_{0}^{\infty} x e^{-x} dx = 1
$$

#### 2. 计算信封 A 的期望

设信封 A 中的数值为随机变量 $V_A$。根据题意，$V_A = X$。
因此，信封 A 的期望为：
$$
E[V_A] = E[X] = 1
$$

#### 3. 计算信封 B 的期望

设信封 B 中的数值为随机变量 $V_B$。根据题意，$V_B$ 的取值依赖于 $X$。
定义条件概率如下：
$$
V_B = \begin{cases} 2X, & \text{概率为 } \frac{1}{2} \\ \frac{X}{2}, & \text{概率为 } \frac{1}{2} \end{cases}
$$
利用**全期望公式**（Law of Iterated Expectations），我们可以计算 $E[V_B]$：
$$
\begin{aligned}
E[V_B] &= E[\, E[V_B | X] \,] \\
&= E\left[ \frac{1}{2}(2X) + \frac{1}{2}\left(\frac{X}{2}\right) \right] \\
&= E\left[ X + \frac{1}{4}X \right] \\
&= E\left[ \frac{5}{4}X \right] \\
&= \frac{5}{4} E[X]
\end{aligned}
$$
代入 $E[X]=1$，得：
$$
E[V_B] = \frac{5}{4} \times 1 = 1.25
$$

#### 4. 比较 A 与 B

对比两者的期望值：
$$
E[V_B] = 1.25 > E[V_A] = 1
$$
**结论**：如果能区分 A 和 B，选择信封 B 能得到更大的期望数。

#### 5. 分析信封混淆后的交换策略

题目问：若 A 与 B 混淆，选定一个后，要不要换？

假设我们随机选择一个信封，记手中信封的数值为 $U$，另一个信封的数值为 $W$。由于信封是混淆的，我们选择 A 或 B 的概率各为 $1/2$。

**计算手中信封的期望 $E[U]$：**
$$
E[U] = \frac{1}{2}E[V_A] + \frac{1}{2}E[V_B] = \frac{1}{2}(1) + \frac{1}{2}(1.25) = 1.125
$$

**计算交换后（另一个信封）的期望 $E[W]$：**
$$
E[W] = \frac{1}{2}E[V_B] + \frac{1}{2}E[V_A] = \frac{1}{2}(1.25) + \frac{1}{2}(1) = 1.125
$$

**分析**：
$$
E[U] = E[W]
$$
在**不打开信封查看数值**的情况下，手中信封与另一个信封的期望值是完全相等的。交换这一动作并不能改变概率空间或分布特性。

### 答案

1.  若能区分信封，应选择 **信封 B**，因为 $E[V_B] = 1.25 > E[V_A] = 1$。
2.  若信封混淆，选定一个之后，**不需要换**（换与不换期望收益相同）。

### 知识延伸

1.  **全期望公式 (Law of Iterated Expectations)**：
    公式 $E[Y] = E[E[Y|X]]$ 是解决此类分层随机问题的核心工具。本题中 $V_B$ 的分布依赖于 $X$，直接求 $V_B$ 的边缘分布较繁琐，而使用条件期望则非常简便。

2.  **双信封悖论 (Two Envelopes Problem)**：
    本题是双信封悖论的一个变体。经典悖论中，人们往往错误地认为 $E[\text{Other}] = \frac{1}{2}(2x) + \frac{1}{2}(\frac{x}{2}) = 1.25x$，从而认为永远应该交换。
    *   本题的解法表明，当**先验分布**（这里是指数分布）明确时，我们可以精确计算期望。
    *   如果打开信封看到了具体数值 $x$，是否交换取决于后验概率 $P(A|x)$ 和 $P(B|x)$，这需要利用贝叶斯公式计算。但在未查看数值（盲选）的情况下，基于对称性，交换无效。

3.  **易错点提示**：
    不要混淆“无条件期望”与“条件期望”。在混淆信封的情况下，我们面对的是整个样本空间，而非某个特定的观测值。

---
