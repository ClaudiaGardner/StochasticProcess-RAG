# 例题2.8

## 题目

设一公交车早上6 : 00 ∼ 7 : 00 间随机发出第一班，之后每隔X 分钟发一列车。已知EX = 10 。 现有小明已等待 5 分钟，讨论下述情况下，小明还要等待多长时间才能上车？ （1）X ∼ U(8，12)，即X 是区间(8，12) 的均与分布； （每10 分钟一班，前后不差2 分钟） （2）X 服从指数分布； （参数λ 是多少） （3）若小明已等了 12 分钟，再次讨论上述两个问题。 泊松过程的无记忆性更一般的表达为： 【定理 2.9】 给定一个泊松过程。从任一时刻往后看，仍是一个泊松过程，且与原泊松过程参数一样。 • 平稳增量性 【定义 2.10】 计数过程 {N(t) : t > 0} 满足平稳增量性，若对于任意的 t′ > t > 0，有 N(t′) − N(t) 的累积 分布函数与 N(t′ − t) 相同。 记 ˜N(t，t′) = N(t′) − N(t)。 平稳增量性意味着 ˜N(t，t′) 和 ˜N(t − t′) 有相同的分布。因此，一个时间间隔内到达的数量的分布取决于时间间 隔的大小，而不取决于起始点。 • 独立增量性 【定义 2.11】 计数过程 {N(t) : t > 0} 满足独立增量性，若对于任意 k 个时刻 0 < t1 < · · · < tk，k 个随机 变量 N(t1), eN(t1, t2), . . . , eN(tk−1, tk) 是统计独立的。 这意味着在一组不重叠的时间间隔内到达的数量是独立的随机变量。 【定理 2.12】 泊松过程具有平稳增量性和独立增量性。 2.2.3 泊松过程的分布律 我们知道，要描述一个随机过程，需要给出任意 n 个时刻所对应的随机变量的联合分布律。这对于一般随 机过程而言，并不是一件简单的事情。我们知道，一个到达过程有三种等价描述，因而我们分别确定泊松过程的 三个描述所对应的联合分布律。 23 2.2. 泊松过程 • 间隔时间随机变量 这是最简单的情形，因为从定义，泊松过程的到达间隔分布是独立同分布的指数分布，只需要知道其一维 分布 Pr{X > x } = e−λx，x ≥ 0， 这里 λ 是泊松过程的唯一参数。我们已知其密度函数是 λeλx，x ≥ 0。 • 到达时刻随机变量 给定 n ≥ 1，S1，S2，. . . ，Sn 的联合密度函数 fS1，...，Sn(s1，. . . ，sn) = λe−λs1 · λe−λ(s2−s1) · · · · · λe−λ(sn−sn−1) = λne−λsn，0 ≤ s1 ≤ s2 ≤ · · · ≤ sn。 由S1，S2，. . . ，Sn 的联合密度函数，可以得到 Sn 的边缘密度函数， fSn(sn) = λne−λsnsn−1 n (n − 1)! ，sn ≥ 0。 这里，随机变量 Sn = X1 + X2 + · · · + Xn 是n 个指数分布的和，称之为Erlang 分布，其均值 E[Sn] = n λ 。 • 计数过程 由于泊松过程的计数过程其独立增量性与平稳增量性，因而求任意 t > 0 的 N(t) 的分布律即可。可以证明 PN(t)(n) = (λt)ne−λt n! ，n ≥ 0。 事实上，事件{N(t) = n} 等价于 {Sn < τ < t ，Xn+1 > t − τ} 对0 ≤ τ ≤ t 求和。由全概率公式 PN(t)(n) = Z t 0 λne−λτ τn−1 (n − 1)! e−λ(t−τ)dτ 可得。 2.2.4 泊松过程的等价定义 【定义 2.13】 如果一个到达过程具有平稳独立增量性，且对于给定的 λ 和所有的 t > 0，N(t) 的概率质量 函数为泊松分布 PN(t)(n) = (λt)ne−λt n! ， 那么该过程就是泊松过程。 【定义 2.14】 如果一个到达过程具有平稳独立增量性，且满足，对于充分小的 δ > 0, P{N(δ) = n} = 8 >>< >>: 1 − λδ + o(δ) ，n = 0 ， λδ + o(δ) ，n = 1 ， o(δ) ，n ⩾ 2， 那么该过程就是泊松过程。 24 2.2. 泊松过程 2.2.5 泊松分布的合并与分裂 【定义2.15】 两个计数过程{N1(t) : t > 0} 和{N2(t) : t > 0} 是独立的是指，对于所有的t1，. . . ，tn，随 机变量 N1(t1)，. . . ，N1(tn) 和N2(t1)，. . . ，N2(tn) 是相互独立的。 【定理 2.16】 设 {N1(t) : t > 0} 和 {N2(t) : t > 0} 是独立的速率分别为 λ1 和 λ2 的泊松过程，令 N(t) = N1(t) + N2(t)，t > 0。则 {N(t) : t > 0}

## 解答

**Problem Deconstruction Begins**

I'm now carefully analyzing the problem, focusing on identifying the core concepts of conditional expectation and the memoryless property. I'm also breaking down the cases involving uniform and exponential distributions, preparing to formulate the step-by-step solution, particularly addressing the subtle details of waiting times and the implications of the "first bus" context.


### 题目分析

本题考查随机过程中的**剩余寿命（Residual Life）**与**条件期望**的概念，重点在于对比不同概率分布（均匀分布与指数分布）下的等待时间特性。

1.  **核心变量**：设 $X$ 为相邻两班公交车的发车间隔时间（随机变量）。已知 $E[X] = 10$。
2.  **求解目标**：已知小明已经等待了 $t$ 分钟（即当前间隔 $X > t$），求小明还需要等待的时间 $Y = X - t$ 的期望值，即计算条件期望 $E[X - t \mid X > t]$。
3.  **涉及概念**：
    *   均匀分布的性质。
    *   指数分布的参数计算及其**无记忆性（Memoryless Property）**。
    *   条件概率密度函数。

---

### 解题过程

设 $Y$ 为小明还需要等待的时间。已知小明已等待 $t$ 分钟，意味着当前的发车间隔 $X$ 必然大于 $t$。我们需要求解的是：
$$ E[Y] = E[X - t \mid X > t] $$

#### （1）情形一：$X \sim U(8, 12)$，且已等待 $t=5$ 分钟

**1. 确定分布参数**
$X$ 服从区间 $(8, 12)$ 上的均匀分布。
概率密度函数（PDF）为：
$$ f_X(x) = \begin{cases} \frac{1}{12-8} = \frac{1}{4}, & 8 < x < 12 \\ 0, & \text{其他} \end{cases} $$
均值验证：$E[X] = \frac{8+12}{2} = 10$，符合题意。

**2. 计算条件期望**
小明已等待 $t=5$ 分钟。我们需要计算 $E[X - 5 \mid X > 5]$。
由于 $X$ 的取值范围是 $(8, 12)$，事件 $\{X > 5\}$ 是必然事件（因为 $X$ 最小值为 8）。
即：
$$ P(X > 5) = 1 $$
因此，条件分布等同于无条件分布：
$$ E[X - 5 \mid X > 5] = E[X - 5] = E[X] - 5 $$
代入 $E[X] = 10$：
$$ E[Y] = 10 - 5 = 5 $$

**结论**：小明平均还需要等待 **5 分钟**。

---

#### （2）情形二：$X$ 服从指数分布，且已等待 $t=5$ 分钟

**1. 确定参数 $\lambda$**
指数分布的期望为 $E[X] = \frac{1}{\lambda}$。
已知 $E[X] = 10$，故：
$$ \frac{1}{\lambda} = 10 \implies \lambda = \frac{1}{10} = 0.1 $$

**2. 利用无记忆性求解**
指数分布具有**无记忆性**。根据定理，对于任意 $s, t > 0$：
$$ P(X > t + s \mid X > t) = P(X > s) $$
这意味着，无论已经等待了多久（只要事件尚未发生），剩余等待时间的分布与从零时刻开始等待的分布完全相同。
因此，剩余等待时间 $Y$ 的期望等于原分布的期望：
$$ E[X - 5 \mid X > 5] = E[X] = \frac{1}{\lambda} = 10 $$

**结论**：小明平均还需要等待 **10 分钟**。

---

#### （3）情形三：若小明已等了 $t=12$ 分钟

我们需要重新讨论上述两种分布在 $t=12$ 时的情形。

**1. 对于 $X \sim U(8, 12)$**
*   **分析**：$X$ 的最大取值为 12。事件 $\{X > 12\}$ 的概率为：
    $$ P(X > 12) = 0 $$
*   **数学解释**：在严格的数学定义下，条件概率 $P(A|B) = P(AB)/P(B)$，当 $P(B)=0$ 时未定义。
*   **实际物理意义**：如果发车间隔严格服从 $U(8, 12)$，那么车最晚会在第 12 分钟发出。如果小明已经等了 12 分钟，说明车此时此刻**正好到达**（或者小明刚刚错过，进入了下一个周期，但题目语境通常指当前周期）。
*   **结论**：在 $X \le 12$ 的假设下，若小明已等满 12 分钟，车应当已经到了，剩余等待时间为 **0 分钟**（或该情况在模型下不可能发生）。

**2. 对于 $X \sim \text{Exp}(0.1)$**
*   **分析**：指数分布的支撑集为 $(0, \infty)$，且具有无记忆性。
*   **计算**：无论 $t$ 取何值（只要 $t \ge 0$），无记忆性始终成立。
    $$ E[X - 12 \mid X > 12] = E[X] = 10 $$
*   **结论**：小明平均还需要等待 **10 分钟**。这体现了指数分布“过去不影响未来”的特性。

---

### 答案

1.  **$X \sim U(8, 12)$，已等 5 分钟**：还需要等待 **5 分钟**。
2.  **$X \sim \text{Exp}(0.1)$，已等 5 分钟**：还需要等待 **10 分钟**（参数 $\lambda = 0.1$）。
3.  **已等 12 分钟**：
    *   若 $X \sim U(8, 12)$：剩余等待时间为 **0 分钟**（或事件不可能发生）。
    *   若 $X \sim \text{Exp}(0.1)$：还需要等待 **10 分钟**。

---

### 知识延伸

1.  **无记忆性 (Memoryless Property)**：
    *   公式：$P(X > t+s \mid X > t) = P(X > s)$。
    *   在连续型随机变量中，**只有指数分布**具有无记忆性。这对应了泊松过程的平稳独立增量性。
    *   直观理解：不管等了多久，就像刚开始等一样。

2.  **剩余寿命期望公式**：
    对于一般非负随机变量 $X$，已知已等待时间 $t$，剩余期望寿命 $m(t)$ 为：
    $$ m(t) = E[X-t \mid X>t] = \frac{\int_t^\infty (x-t)f(x)dx}{P(X>t)} = \frac{\int_t^\infty P(X>x)dx}{P(X>t)} $$

3.  **等待时间悖论 (Inspection Paradox)**：
    虽然本题给定的是“已等待时间”，但在随机到达时刻观察一个更新过程时，观察到的平均间隔时间通常大于 $E[X]$。这是因为长间隔被观察到的概率更大。本题中指数分布情形下，总期望间隔变成了 $t + E[X]$，即等待越久，该区间的总长度期望值越长。

---
