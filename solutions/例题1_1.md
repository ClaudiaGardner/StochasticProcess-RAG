# 例题1.1

## 题目

设X1，X2，...，Xn，... 是独立同分布(i.i.d.) 连续随机变量，密度函数是fX(x)。对于n ≥ 2， 若Xn > Xi 对于所有i < n 成立，称Xn 是记录。求： （1）X2 是记录的概率； （2）Xn 是记录的概率； （3）前 m 次试验中平均多少次记录； （4）N1 是第一次记录产生的时刻，问 P {N1 > n}，n ≥ 2。 （5）证明 EN1 = ∞。

## 解答

**Reviewing and Refining Solutions**

My focus is on finalizing the step-by-step solutions with LaTeX, emphasizing clarity and precision. I've re-evaluated Q3 and Q4 to ensure alignment with the problem's strict definition of a "record," specifically the $n \ge 2$ constraint. I'm double-checking the LaTeX syntax for formatting consistency. I will also incorporate self-corrections as needed. Finally, I'm mentally simulating the final output to ensure logical flow.


### 题目分析

本题主要考查概率论中的**次序统计量 (Order Statistics)**、**对称性 (Symmetry/Exchangeability)** 以及**指示变量 (Indicator Variables)** 的应用。

1.  **核心假设**：$X_1, X_2, \dots$ 是独立同分布 (i.i.d.) 的连续随机变量。这意味着对于任意 $i \neq j$，发生 $X_i = X_j$ 的概率为 0。因此，我们可以假设所有样本值互不相等，且任意 $n$ 个样本的排列出现概率相等。
2.  **记录 (Record) 的定义**：对于 $n \ge 2$，若 $X_n > \max(X_1, \dots, X_{n-1})$，则称 $X_n$ 为记录。注意题目定义仅从 $n=2$ 开始判定。
3.  **求解目标**：计算特定次序成为记录的概率、记录次数的期望、首次记录时刻的分布及其期望。

---

### 解题过程

#### (1) 求 $X_2$ 是记录的概率

根据定义，$X_2$ 是记录当且仅当 $X_2 > X_1$。
由于 $X_1$ 和 $X_2$ 是独立同分布的连续随机变量，根据对称性，$(X_1, X_2)$ 的所有排列（即 $X_1 < X_2$ 和 $X_2 < X_1$）发生的概率相等。

$$
P(X_2 \text{ 是记录}) = P(X_2 > X_1) = \frac{1}{2}
$$

#### (2) 求 $X_n$ 是记录的概率

记事件 $A_n = \{X_n \text{ 是记录}\}$。
根据定义，$A_n$ 等价于 $X_n > X_i$ 对所有 $i < n$ 成立，即 $X_n = \max(X_1, X_2, \dots, X_n)$。
考虑前 $n$ 个随机变量 $\{X_1, X_2, \dots, X_n\}$。由于它们是 i.i.d. 的，根据对称性，其中任何一个变量成为该组最大值的概率是相等的。
因为共有 $n$ 个变量，所以 $X_n$ 是这 $n$ 个数中最大值的概率为 $\frac{1}{n}$。

$$
P(X_n \text{ 是记录}) = P(X_n = \max\{X_1, \dots, X_n\}) = \frac{1}{n}
$$

#### (3) 前 $m$ 次试验中平均多少次记录

设 $R_m$ 为前 $m$ 次试验中产生的记录总数。
引入指示随机变量 $I_k$ ($k=2, \dots, m$)：
$$
I_k = \begin{cases} 1, & \text{若 } X_k \text{ 是记录} \\ 0, & \text{若 } X_k \text{ 不是记录} \end{cases}
$$
根据题目定义，记录仅在 $n \ge 2$ 时定义，因此前 $m$ 次试验中的记录总数为：
$$
R_m = \sum_{k=2}^{m} I_k
$$
利用期望的线性性质：
$$
E[R_m] = E\left[ \sum_{k=2}^{m} I_k \right] = \sum_{k=2}^{m} E[I_k]
$$
其中 $E[I_k] = 1 \cdot P(X_k \text{ 是记录}) + 0 = \frac{1}{k}$。
因此，平均记录次数为：
$$
E[R_m] = \sum_{k=2}^{m} \frac{1}{k}
$$

#### (4) $N_1$ 是第一次记录产生的时刻，求 $P \{N_1 > n\}$，其中 $n \ge 2$

$N_1$ 是第一次出现记录的时刻（下标）。
事件 $\{N_1 > n\}$ 意味着在时刻 $2, 3, \dots, n$ 都没有产生记录。
即：
*   $X_2$ 不是记录 $\implies X_2 < X_1$
*   $X_3$ 不是记录 $\implies X_3 < \max(X_1, X_2) = X_1$
*   $\dots$
*   $X_n$ 不是记录 $\implies X_n < \max(X_1, \dots, X_{n-1}) = X_1$

综上所述，事件 $\{N_1 > n\}$ 等价于 $X_1$ 是集合 $\{X_1, X_2, \dots, X_n\}$ 中的最大值。
如果 $X_1$ 是前 $n$ 个数中的最大值，那么 $X_2, \dots, X_n$ 都不可能大于它们之前的所有数（因为 $X_1$ 在它们之前且最大）。
根据对称性，$X_1$ 成为前 $n$ 个变量中最大值的概率为 $\frac{1}{n}$。

$$
P(N_1 > n) = P(X_1 = \max\{X_1, \dots, X_n\}) = \frac{1}{n}
$$

#### (5) 证明 $EN_1 = \infty$

利用非负整数随机变量期望的尾概率求和公式：
$$
E[N_1] = \sum_{n=0}^{\infty} P(N_1 > n)
$$
由于记录定义在 $n \ge 2$，第一次记录产生的时刻 $N_1$ 至少为 2。
因此：
*   $P(N_1 > 0) = 1$
*   $P(N_1 > 1) = 1$

对于 $n \ge 2$，由第 (4) 问可知 $P(N_1 > n) = \frac{1}{n}$。
代入公式：
$$
\begin{aligned}
E[N_1] &= P(N_1 > 0) + P(N_1 > 1) + \sum_{n=2}^{\infty} P(N_1 > n) \\
&= 1 + 1 + \sum_{n=2}^{\infty} \frac{1}{n} \\
&= 1 + \sum_{n=1}^{\infty} \frac{1}{n}
\end{aligned}
$$
上式中 $\sum_{n=1}^{\infty} \frac{1}{n}$ 是调和级数。众所周知，调和级数是发散的，即 $\sum_{n=1}^{\infty} \frac{1}{n} = \infty$。

$$
\therefore E[N_1] = \infty
$$

---

### 答案

1.  $P(X_2 \text{ 是记录}) = \frac{1}{2}$
2.  $P(X_n \text{ 是记录}) = \frac{1}{n}$
3.  前 $m$ 次试验中平均记录次数为 $\sum_{k=2}^{m} \frac{1}{k}$
4.  $P(N_1 > n) = \frac{1}{n}$
5.  证明见解题过程，结论为 $E[N_1] = \infty$

---

### 知识延伸

1.  **对称性原理 (Symmetry Principle)**：在处理独立同分布 (i.i.d.) 序列的次序统计量问题时，任何排列出现的概率是相等的。这是解决此类问题最快的方法，避免了复杂的积分计算。
2.  **指示变量法 (Indicator Method)**：求解计数问题的期望（如本题第3问）时，将总数分解为一系列指示变量（Bernoulli 变量）的和，利用期望的线性性质求解，是非常通用的技巧。
3.  **调和级数 (Harmonic Series)**：本题揭示了记录产生的稀疏性。随着 $n$ 增大，产生新记录的概率 $\frac{1}{n}$ 迅速衰减。虽然记录总数 $R_m \approx \ln m$ 会趋于无穷，但产生下一个记录所需的平均等待时间 $E[N_1]$ 是无穷大。这在极值理论和随机游走中有重要意义。
4.  **易错点**：注意题目对记录定义的起始点（本题为 $n \ge 2$）。有时定义会包含 $X_1$ 作为第一个记录，这会改变求和的下限，需仔细审题。

---
