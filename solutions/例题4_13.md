# 例题4.13

## 题目

有这样的情况：在一个系统中，有两种更新情况：更新间隔很大但发生的可能性很小，更新 间隔很小但发生的可能性很大。令X 以概率1 − ϵ 取值为ϵ，以概率ϵ 取值为1/ϵ。平均剩余寿命是Y ta = 1 2ϵ 。 图 4.6: 在一个系统中，更新间隔很大但发生的概率很小，对平均剩余寿命影响很大 4.3.2 平均年龄 【定义4.14】 令Z(t) 表示时间t 时更新过程的年龄，其中年龄定义为在t 之前（或等于t）的最近的一次到 达到 t 的间隔，即 Z(t) = t − SN(t)。 49 4.3. 更新-报酬过程；时间平均 平均年龄为 lim t→∞ Rt 0 Z(τ)dτ t = E[X2] 2E[X] WP1。 图 4.7: 年龄示意图 4.3.3 持续时间 【定义 4.15】 设 eX(t) 表示包含时间 t 的更新间隔的持续时间，即 eX(t) = XN(t)+1 = SN(t)+1 − SN(t)。 显然有 eX(t) = Y (t) + Z(t)。平均持续时间为 lim t→∞ Rt 0 eX(τ)dτ t = E[X2] E[X] WP1。 图4.8: 持续时间示意图 4.3.4 一般的更新报酬过程 现在我们研究一般类的报酬函数，其中t 时刻的报酬最多只取决于t 时刻的年龄和持续时间，即时刻t 的奖 励R(t) 可以明确地表示为一个函数R(Z(t)， eX(t))。 我们希望找到R(t) 的时间平均值， 即limt→∞[ Rt 0 R(τ)dτ]/t。 首先将 Rn 定义为第n 个更新间隔中的累积报酬， Rn ≜ Z Sn Sn−1 R(τ)dτ = Z Sn Sn−1 R(Z(τ), eX(τ))dτ = Z Sn Sn−1 R(τ − Sn−1, Xn)dτ = Z Xn z=0 R(z, Xn)dz。 这是一个仅与随机变量 Xn 有关的函数。 一般情况下，Rn 的期望值为 E[Rn] = Z ∞ x=0 Z x z=0 R(z, x)dz  dFX(x)。 【定理4.16】 假设{R(t)；t > 0} 是一个期望间隔时间为E[X] = X < ∞ 的更新过程的非负更新报酬函数。 如果每个Rn 都是一个随机变量，并且满足 E[Rn] < ∞，那么有 lim t→∞ 1 t Z t τ=0 R(τ)dτ = E[Rn] X WP1。 50 4.4. 重复实验的停止时间 证明. 因为 PN(t) n=1 Rn t ⩽ Rt 0 R(τ)dτ t ⩽ PN(t)+1 n=1 Rn t 。 我们有 PN(t) n=1 Rn t = PN(t) n=1 Rn N(t) N(t) t → E[Rn] X WP1， PN(t)+1 n=1 Rn t = PN(t)+1 n=1 Rn N(t) + 1 N(t) + 1 N(t) N(t) t → E[Rn] X WP1。 所以 lim t→∞ 1 t Z t τ=0 R(τ)dτ = E[Rn] X WP1。 对于非正的报酬函数，同样的结果成立。 【推论4.17】 假设{R(t); t > 0} 是一个期望间隔时间为E[X] = X < ∞ 的更新过程的更新报酬函数。如果 每个 Rn 都是一个随机变量，并且满足 E[|Rn|] < ∞，那么有 lim t→∞ 1 t Z t τ=0 R(τ)dτ = E[Rn] X WP1。

## 解答

**Deconstructing and Calculating**

I'm now deeply immersed in the example, calculating the expected values and applying the residual life formula. The core is the distribution of X and understanding how it leads to the $1/2\epsilon$ result. I'm focusing on the mathematical rigor to create a precise answer, paying close attention to the LaTeX formatting for clarity. I'm aiming to keep the explanation concise and direct, while adhering to the specified format.


### 题目分析

本题（例题 4.13）考查**更新过程（Renewal Process）**中的**剩余寿命（Residual Life）**及其渐近性质。题目给出了一个特殊的更新间隔分布 $X$，该分布具有“极差大”的特点（大部分时间间隔很小，极少部分时间间隔极大）。

核心考查点包括：
1.  **离散型随机变量的矩的计算**：计算 $E[X]$ 和 $E[X^2]$。
2.  **更新报酬定理的应用**：利用时间平均的概念求解平均剩余寿命。
3.  **检查悖论（Inspection Paradox）的具体体现**：展示当更新间隔的方差很大时，平均剩余寿命可能远大于平均更新间隔的一半。

题目要求验证或推导文中给出的结论：平均剩余寿命 $Y_{ta} \approx \frac{1}{2\epsilon}$。

### 解题过程

根据题目描述，更新间隔 $X$ 是一个离散型随机变量。

**1. 定义随机变量 $X$ 及其分布**

设 $X$ 为更新间隔时间，其概率分布律为：
$$
P(X = x) = \begin{cases} 1 - \epsilon, & x = \epsilon \\ \epsilon, & x = \frac{1}{\epsilon} \end{cases}
$$
其中 $\epsilon$ 是一个很小的正数（$0 < \epsilon \ll 1$）。

**2. 计算 $X$ 的一阶矩（期望）**

$$
E[X] = \sum x P(X=x) = \epsilon \cdot (1 - \epsilon) + \frac{1}{\epsilon} \cdot \epsilon
$$
$$
E[X] = \epsilon - \epsilon^2 + 1 = 1 + \epsilon - \epsilon^2
$$
当 $\epsilon$ 很小时，忽略高阶小量，有：
$$
E[X] \approx 1
$$

**3. 计算 $X$ 的二阶矩**

$$
E[X^2] = \sum x^2 P(X=x) = (\epsilon)^2 \cdot (1 - \epsilon) + \left(\frac{1}{\epsilon}\right)^2 \cdot \epsilon
$$
$$
E[X^2] = \epsilon^2 - \epsilon^3 + \frac{1}{\epsilon}
$$
当 $\epsilon$ 很小时，$\frac{1}{\epsilon}$ 占主导地位，$\epsilon^2$ 和 $\epsilon^3$ 可忽略，故：
$$
E[X^2] \approx \frac{1}{\epsilon}
$$

**4. 计算平均剩余寿命**

根据更新过程理论（及题目后续提供的平均年龄公式，平均剩余寿命与平均年龄在 $t \to \infty$ 时具有相同的极限分布和均值），时间平均剩余寿命（Time Average Residual Life，记为 $Y_{ta}$）的公式为：
$$
\lim_{t \to \infty} \frac{1}{t} \int_0^t Y(\tau) d\tau = \frac{E[X^2]}{2E[X]}
$$

将步骤 2 和 3 的结果代入上述公式：
$$
Y_{ta} = \frac{\epsilon^2(1-\epsilon) + \frac{1}{\epsilon}}{2(1 + \epsilon - \epsilon^2)}
$$

**5. 进行渐近分析**

为了得到题目中的简洁结论，我们对上述表达式取近似（考虑 $\epsilon \to 0$ 的情况）：
分子部分：
$$
E[X^2] = \frac{1}{\epsilon} + \epsilon^2 - \epsilon^3 \approx \frac{1}{\epsilon}
$$
分母部分：
$$
2E[X] = 2(1 + \epsilon - \epsilon^2) \approx 2
$$

因此：
$$
Y_{ta} \approx \frac{1/\epsilon}{2} = \frac{1}{2\epsilon}
$$

**6. 结果分析**

虽然平均更新间隔 $E[X] \approx 1$，但平均剩余寿命 $Y_{ta} \approx \frac{1}{2\epsilon}$。
例如，若 $\epsilon = 0.001$，则 $E[X] \approx 1$，但平均剩余寿命 $Y_{ta} \approx 500$。
这说明：尽管长间隔发生的概率很小（$\epsilon$），但由于其数值极大（$1/\epsilon$），它对二阶矩 $E[X^2]$ 贡献巨大，从而极大地拉高了平均剩余寿命。

### 答案

该系统中更新间隔 $X$ 的平均剩余寿命为：
$$
Y_{ta} \approx \frac{1}{2\epsilon}
$$

### 知识延伸

1.  **检查悖论 (Inspection Paradox) / 长度偏倚采样 (Length-Biased Sampling)**：
    本题是检查悖论的典型例子。当我们随机选取一个时间点 $t$ 去观察系统时，我们更有可能落在一个“长”的更新间隔内。因此，观察到的平均间隔长度（即平均持续时间 $E[\tilde{X}]$）要大于实际的平均间隔 $E[X]$。
    *   平均持续时间公式：$\lim_{t\to\infty} E[\tilde{X}(t)] = \frac{E[X^2]}{E[X]} = E[X] (1 + C_v^2)$，其中 $C_v$ 是变异系数。
    *   在本题中，平均持续时间约为 $\frac{1}{\epsilon}$，远大于 $E[X] \approx 1$。

2.  **关键公式总结**：
    对于期望为 $E[X]$ 且 $E[X^2] < \infty$ 的更新过程：
    *   **平均年龄 (Average Age)**：$\lim_{t \to \infty} E[Z(t)] = \frac{E[X^2]}{2E[X]}$
    *   **平均剩余寿命 (Average Residual Life)**：$\lim_{t \to \infty} E[Y(t)] = \frac{E[X^2]}{2E[X]}$
    *   **平均持续时间 (Average Duration)**：$\lim_{t \to \infty} E[\tilde{X}(t)] = \frac{E[X^2]}{E[X]}$

3.  **更新报酬定理 (Renewal Reward Theorem)**：
    题目文本后半部分引用的定理 4.16 是解决此类问题的通用工具。
    $$
    \lim_{t \to \infty} \frac{1}{t} \int_0^t R(\tau) d\tau = \frac{E[R_n]}{E[X]}
    $$
    其中 $E[R_n]$ 是一个更新周期内累积报酬的期望。对于剩余寿命问题，报酬函数定义为 $R(t) = Y(t)$，此时 $E[R_n] = \int_0^X (X-t) dt = \frac{X^2}{2}$，故 $E[R_n] = \frac{E[X^2]}{2}$，从而推导出上述公式。

---
