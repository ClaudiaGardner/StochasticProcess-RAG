# 习题4.7

## 题目

令 $U_{1}$ ， $U_{2}$ ，.是独立的 $\mathbf{E} \left[ N \right]$ 是多少？

## 解答

**Revising Assumptions**

My thoughts have circled back to the fundamental assumption. I'm solidifying that the context implies the classic problem:  $U_i \sim U(0,1)$, and $N = \min\{n : \sum_{i=1}^n U_i > 1\}$. I am also including the geometric intuition related to the volume of the simplex as part of the formal solution, because this is an elegant and accessible approach. I'm focusing the solution around the "sum exceeds 1" scenario to meet the prompt's implied constraints.


### 题目分析

题目文本存在明显的截断和缺失。根据概率论经典教材（如 Sheldon Ross 的《Introduction to Probability Models》或《Stochastic Processes》）中的常见习题设置，该题目的完整表述通常为：

**“令 $U_{1}, U_{2}, \dots$ 是独立同分布的均匀分布 $U(0,1)$ 随机变量。令 $N = \min \{ n : \sum_{i=1}^{n} U_{i} > 1 \}$。求 $\mathbf{E} \left[ N \right]$ 是多少？”**

即：不断累加独立均匀分布的随机变量，直到总和超过 1 为止，求所需变量个数 $N$ 的期望。

本题考查的核心概念包括：
1.  **连续型随机变量的卷积**：涉及多个均匀分布之和的概率密度或分布函数。
2.  **期望的尾概率公式**：利用 $P(N > n)$ 来计算 $E[N]$。
3.  **几何概率**：高维单纯形（Simplex）的体积计算。

### 解题过程

我们需要计算随机变量 $N$ 的期望 $\mathbf{E}[N]$，其中 $N$ 定义为：
$$ N = \min \left\{ n : \sum_{i=1}^{n} U_{i} > 1 \right\} $$
其中 $U_i \sim U(0,1)$ 且相互独立。

**第一步：利用期望的尾概率公式**

对于取值为正整数的离散随机变量 $N$，其期望可以通过下式计算：
$$ \mathbf{E}[N] = \sum_{n=0}^{\infty} P(N > n) $$
注意：由于至少需要 1 个变量才能使和大于 0（从而可能大于 1），且 $U_i \le 1$，所以 $N \ge 2$ 的概率是存在的，但公式从 $n=0$ 开始求和是通用的。
具体地：
- 当 $n=0$ 时，$P(N>0) = 1$（因为 $N$ 至少为 1）。
- 当 $n=1$ 时，$P(N>1) = P(U_1 \le 1) = 1$。

**第二步：分析事件 $\{N > n\}$**

事件 $\{N > n\}$ 意味着前 $n$ 个随机变量的和仍然没有超过 1。即：
$$ \{ N > n \} \iff \left\{ \sum_{i=1}^{n} U_{i} \le 1 \right\} $$
令 $S_n = \sum_{i=1}^{n} U_{i}$，则我们需要计算 $P(S_n \le 1)$。

**第三步：计算 $P(S_n \le 1)$**

这是一个经典的几何概率问题。$U_1, \dots, U_n$ 的联合概率密度函数为：
$$ f(u_1, \dots, u_n) = \begin{cases} 1, & \text{若 } 0 \le u_i \le 1 \\ 0, & \text{其他} \end{cases} $$
概率 $P(S_n \le 1)$ 等于 $n$ 维单位超立方体中满足 $u_1 + \dots + u_n \le 1$ 的区域体积。
计算该积分：
$$ P(S_n \le 1) = \int \dots \int_{\substack{0 \le u_i \le 1 \\ \sum u_i \le 1}} 1 \, du_1 \dots du_n $$
由于限制条件 $\sum u_i \le 1$ 自动隐含了 $u_i \le 1$（在 $u_i \ge 0$ 的前提下），该区域是一个标准的 $n$ 维单纯形（Simplex）。

我们可以通过归纳法或直接积分计算其体积。
当 $n=1$ 时：$\int_0^1 du_1 = 1 = \frac{1}{1!}$
当 $n=2$ 时：$\int_0^1 \int_0^{1-u_1} du_2 du_1 = \int_0^1 (1-u_1) du_1 = \frac{1}{2} = \frac{1}{2!}$
当 $n=3$ 时：$\int_0^1 \int_0^{1-u_1} \int_0^{1-u_1-u_2} du_3 du_2 du_1 = \frac{1}{6} = \frac{1}{3!}$

推广到 $n$ 维，该体积为：
$$ P(S_n \le 1) = \frac{1}{n!} $$

**第四步：求和计算期望**

将上述结果代入期望公式：
$$ \mathbf{E}[N] = \sum_{n=0}^{\infty} P(N > n) = \sum_{n=0}^{\infty} P(S_n \le 1) $$
$$ \mathbf{E}[N] = \sum_{n=0}^{\infty} \frac{1}{n!} $$

根据泰勒级数展开（Maclaurin series）中指数函数 $e^x$ 的定义：
$$ e^x = \sum_{n=0}^{\infty} \frac{x^n}{n!} $$
令 $x=1$，我们得到：
$$ \sum_{n=0}^{\infty} \frac{1}{n!} = e $$

### 答案

$$ \mathbf{E}[N] = e $$

### 知识延伸

1.  **Irwin-Hall 分布**：$n$ 个独立均匀分布 $U(0,1)$ 变量之和服从 Irwin-Hall 分布。本题利用了该分布在 $[0,1]$ 区间内的累积分布函数（CDF）为 $\frac{x^n}{n!}$ 的性质（当 $x=1$ 时）。
2.  **期望的尾求和公式**：对于取值为非负整数的随机变量 $X$，公式 $\mathbf{E}[X] = \sum_{k=0}^{\infty} P(X > k)$ 是一个非常有用的解题技巧，常用于避免直接计算复杂的 $P(X=k)$。
3.  **与泊松过程的联系**：
    该问题等价于齐次泊松过程（Poisson Process）。设泊松过程到达率为 $\lambda=1$，到达时间间隔为 $X_i \sim Exp(1)$。
    由于 $-\ln(U_i) \sim Exp(1)$，令 $X_i = -\ln(U_i)$。
    条件 $\sum U_i > 1$ 等价于 $\prod U_i > 1$ (此路不通，应取对数)。
    实际上，更直接的联系是：在一个时间长度为 1 的区间内，事件发生的次数 $N(1)$ 服从参数为 1 的泊松分布。本题 $N$ 的定义略有不同，但数学结构紧密相关。
4.  **易错点**：求和下标从 0 还是 1 开始。对于本题，$P(N>0)=1$ 必须包含在内，因为 $0! = 1$，这一项对应级数中的第一项。

---
