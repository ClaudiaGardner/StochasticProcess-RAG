# 例题1.7

## 题目

考虑一个随机试验，其输出结果 ω 均匀分布于 [0，1) 区间。定义如下无穷二叉树： （1）根节点是 [0，1)； （2）若区间[a，b) 是一个节点，则其左儿子是 [a，a+b 2 )，右儿子是 [a+b 2 ，b)。 把树中的所有节点对应的区间依顺序排列，离根近的层排在前面，同一层的从左到右排。这些区间依次编 号为 0，1，2，. . . ，n，. . .，定义 Xn 是所对应区间的示性函数。如： X0(ω) = 1 ，ω ∈ [0，1)； X1(ω) = ( 1 ， ω ∈ [0，1 2 )； 0 ， ω ∈ [1 2 ，1)； X2(ω) = ( 0 ， ω ∈ [0，1 2 )； 1 ， ω ∈ [1 2 ，1)。 这些收敛性的关系如图1.2所示。 概率1收敛 均方收敛 依概率收敛 依分布收敛 图1.2: 收敛性关系图

## 解答

**Refining the Solution's Structure**

I am now organizing the problem's solution in the specified format, ensuring each step and the final conclusion are clearly presented. The indexing of $X_n$ and the intervals are double checked, so that no ambiguity or error occurs. I am also working on the LaTeX formatting for a professional look and clarity. Finally, I will write the "Knowledge Extension" and make sure the "Moving Blip" characteristics are captured.


### 题目分析

本题考查随机变量序列收敛性的核心概念，具体涉及**依概率收敛**、**均方收敛**（$L^2$收敛）、**依分布收敛**与**几乎处处收敛**（以概率1收敛）之间的区别与联系。

*   **数学符号与模型**：
    *   样本空间 $\Omega = [0, 1)$，概率测度 $P$ 为勒贝格测度（即区间长度，对应均匀分布）。
    *   随机变量序列 $\{X_n\}$ 定义为特定区间序列的示性函数。
    *   区间排列方式：按二叉树层序遍历（广度优先），第 $k$ 层（根为第0层）包含 $2^k$ 个区间，每个区间长度为 $2^{-k}$。
*   **核心考点**：
    *   验证 $\{X_n\}$ 是否依概率收敛到 0。
    *   验证 $\{X_n\}$ 是否均方收敛到 0。
    *   验证 $\{X_n\}$ 是否几乎处处收敛到 0。
    *   本例是概率论中经典的**反例**，用于说明“依概率收敛/均方收敛 $\nRightarrow$ 几乎处处收敛”。
*   **求解目标**：分析 $X_n$ 当 $n \to \infty$ 时的各种收敛性。

### 解题过程

我们将考察随机变量序列 $\{X_n\}$ 对常数随机变量 $X \equiv 0$ 的收敛性。

#### 1. 序列结构分析

根据题目描述，区间是按层排列的。
*   第 $0$ 层：$n=0$，区间为 $[0, 1)$，长度 $1$。
*   第 $1$ 层：$n=1, 2$，区间为 $[0, 1/2), [1/2, 1)$，长度 $1/2$。
*   第 $k$ 层：包含 $2^k$ 个区间，每个区间长度为 $2^{-k}$。这些区间的并集覆盖整个 $[0, 1)$。

对于任意正整数 $n$，它对应于二叉树中某一层的一个特定区间，记为 $I_n$。
随机变量定义为示性函数：
$$X_n(\omega) = \mathbf{1}_{I_n}(\omega) = \begin{cases} 1, & \omega \in I_n \\ 0, & \omega \notin I_n \end{cases}$$

#### 2. 均方收敛性 ($L^2$ Convergence)

我们要判断 $\lim_{n \to \infty} E[|X_n - 0|^2] = 0$ 是否成立。

计算 $X_n$ 的二阶矩：
$$E[|X_n - 0|^2] = E[X_n^2]$$
由于 $X_n$ 是示性函数，取值仅为 0 或 1，故 $X_n^2 = X_n$。
$$E[X_n] = 1 \cdot P(X_n=1) + 0 \cdot P(X_n=0) = P(\omega \in I_n)$$
根据均匀分布的性质，$P(\omega \in I_n)$ 等于区间 $I_n$ 的长度。
当 $n \to \infty$ 时，区间所在的层数 $k \to \infty$，区间长度 $2^{-k} \to 0$。
即：
$$\lim_{n \to \infty} E[|X_n - 0|^2] = \lim_{n \to \infty} \text{length}(I_n) = 0$$
**结论**：$X_n$ 均方收敛于 0，记作 $X_n \xrightarrow{L^2} 0$。

#### 3. 依概率收敛性 (Convergence in Probability)

我们要判断对于任意 $\epsilon > 0$，是否满足 $\lim_{n \to \infty} P(|X_n - 0| \ge \epsilon) = 0$。

取 $0 < \epsilon < 1$，则事件 $\{|X_n| \ge \epsilon\}$ 等价于 $\{X_n = 1\}$。
$$P(|X_n - 0| \ge \epsilon) = P(X_n = 1) = \text{length}(I_n)$$
由前文分析可知，当 $n \to \infty$ 时，区间长度趋于 0。
$$\lim_{n \to \infty} P(|X_n| \ge \epsilon) = 0$$
**结论**：$X_n$ 依概率收敛于 0，记作 $X_n \xrightarrow{P} 0$。
*(注：均方收敛蕴含依概率收敛，此步也可直接由步骤2得出)*

#### 4. 几乎处处收敛性 (Almost Sure Convergence)

我们要判断是否满足 $P(\{\omega : \lim_{n \to \infty} X_n(\omega) = 0\}) = 1$。

考虑任意固定的 $\omega \in [0, 1)$。
由于二叉树的每一层 $k$ 的所有区间构成 $[0, 1)$ 的一个划分，因此对于每一层 $k$，必然恰好有一个区间包含 $\omega$。
这意味着，对于每一个层级 $k$，都存在一个对应的索引 $n_k$，使得 $\omega \in I_{n_k}$，即 $X_{n_k}(\omega) = 1$。

随着层数 $k \to \infty$，索引 $n_k \to \infty$。因此，序列 $\{X_n(\omega)\}_{n=1}^{\infty}$ 中包含无穷多个 1。
即对于任意 $\omega \in [0, 1)$：
$$\limsup_{n \to \infty} X_n(\omega) = 1$$
同时，由于每一层也有大量区间不包含 $\omega$，序列中也包含无穷多个 0，故：
$$\liminf_{n \to \infty} X_n(\omega) = 0$$
因此，极限 $\lim_{n \to \infty} X_n(\omega)$ 对于任何 $\omega \in [0, 1)$ 都不存在。
集合 $\{\omega : \lim_{n \to \infty} X_n(\omega) = 0\}$ 是空集 $\emptyset$。
$$P(\lim_{n \to \infty} X_n = 0) = P(\emptyset) = 0 \neq 1$$

**结论**：$X_n$ **不**几乎处处收敛于 0，记作 $X_n \nrightarrow_{a.s.} 0$。

#### 5. 依分布收敛性 (Convergence in Distribution)

由于依概率收敛蕴含依分布收敛，且 $X_n \xrightarrow{P} 0$，故：
**结论**：$X_n$ 依分布收敛于 0，记作 $X_n \xrightarrow{d} 0$。

### 答案

对于例题 1.7 中定义的随机变量序列 $\{X_n\}$，其收敛性结论如下：

1.  **均方收敛**：$X_n \xrightarrow{L^2} 0$ 成立。
2.  **依概率收敛**：$X_n \xrightarrow{P} 0$ 成立。
3.  **依分布收敛**：$X_n \xrightarrow{d} 0$ 成立。
4.  **几乎处处收敛**：$X_n \xrightarrow{a.s.} 0$ **不成立**。

该例题展示了均方收敛和依概率收敛并不蕴含几乎处处收敛。

### 知识延伸

1.  **收敛强弱关系链**：
    $$X_n \xrightarrow{L^2} X \implies X_n \xrightarrow{P} X \implies X_n \xrightarrow{d} X$$
    $$X_n \xrightarrow{a.s.} X \implies X_n \xrightarrow{P} X$$
    *注意*：$L^2$ 收敛与 $a.s.$ 收敛互不包含，但都强于依概率收敛。

2.  **Borel-Cantelli 引理**：
    本题是 Borel-Cantelli 引理应用的典型背景。
    $$\sum_{n=1}^{\infty} P(|X_n - 0| \ge \epsilon) = \sum_{k=0}^{\infty} \sum_{j=0}^{2^k-1} \frac{1}{2^k} = \sum_{k=0}^{\infty} 1 = \infty$$
    因为概率和发散，且事件在每一层覆盖整个空间，事件 $\{X_n = 1\}$ 会发生无穷多次（i.o.），导致无法几乎处处收敛。

3.  **反例构造技巧**：
    构造“依概率收敛但不几乎处处收敛”的反例，通常使用**“游动区间”**（Moving Interval）或**“打字机序列”**（Typewriter Sequence）。其特征是：指示函数的支撑集测度趋于0（保证依概率收敛），但这些支撑集在空间中反复循环游动，使得每一点都被覆盖无穷多次（破坏几乎处处收敛）。

4.  **子序列原理**：
    虽然 $X_n$ 不几乎处处收敛，但根据 Riesz 定理，若 $X_n \xrightarrow{P} X$，则存在子序列 $X_{n_k} \xrightarrow{a.s.} X$。在本题中，若只取每一层的第一个区间对应的 $X_n$，即可构成一个几乎处处收敛的子序列。

---
